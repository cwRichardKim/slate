<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>API Reference</title>

    <style>
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight, .highlight .w {
  color: #f8f8f2;
  background-color: #272822;
}
.highlight .err {
  color: #151515;
  background-color: #ac4142;
}
.highlight .c, .highlight .cd, .highlight .cm, .highlight .c1, .highlight .cs {
  color: #505050;
}
.highlight .cp {
  color: #f4bf75;
}
.highlight .nt {
  color: #f4bf75;
}
.highlight .o, .highlight .ow {
  color: #d0d0d0;
}
.highlight .p, .highlight .pi {
  color: #d0d0d0;
}
.highlight .gi {
  color: #90a959;
}
.highlight .gd {
  color: #ac4142;
}
.highlight .gh {
  color: #6a9fb5;
  background-color: #151515;
  font-weight: bold;
}
.highlight .k, .highlight .kn, .highlight .kp, .highlight .kr, .highlight .kv {
  color: #aa759f;
}
.highlight .kc {
  color: #d28445;
}
.highlight .kt {
  color: #d28445;
}
.highlight .kd {
  color: #d28445;
}
.highlight .s, .highlight .sb, .highlight .sc, .highlight .sd, .highlight .s2, .highlight .sh, .highlight .sx, .highlight .s1 {
  color: #90a959;
}
.highlight .sr {
  color: #75b5aa;
}
.highlight .si {
  color: #8f5536;
}
.highlight .se {
  color: #8f5536;
}
.highlight .nn {
  color: #f4bf75;
}
.highlight .nc {
  color: #f4bf75;
}
.highlight .no {
  color: #f4bf75;
}
.highlight .na {
  color: #6a9fb5;
}
.highlight .m, .highlight .mf, .highlight .mh, .highlight .mi, .highlight .il, .highlight .mo, .highlight .mb, .highlight .mx {
  color: #90a959;
}
.highlight .ss {
  color: #90a959;
}
    </style>
    <link href="stylesheets/screen.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" media="print" />
      <script src="javascripts/all.js"></script>
  </head>

  <body class="index" data-languages="[&quot;ruby&quot;]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" />
      </span>
    </a>
    <div class="tocify-wrapper">
      <img src="images/logo.png" />
        <div class="lang-selector">
              <a href="#" data-language-name="ruby">ruby</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <div id="toc">
      </div>
        <ul class="toc-footer">
            <li><a href='https://incidentreport-120.herokuapp.com'>InstaPort Home</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id="introduction">Introduction</h1>

<p>Welcome to the <a href="https://incidentreport-120.herokuapp.com">InstaPort</a> API! You can use our API to access API endpoints, which can get information on incidents or users in our database.</p>

<p>We have language bindings in Ruby! You can view code examples in the dark area to the right, and you can switch the programming language of the examples with the tabs in the top right.</p>

<h1 id="disclaimers">Disclaimers</h1>

<h3 id="application-error-on-first-load">Application Error on First Load</h3>

<p>Heroku puts our app to sleep after <a href="https://devcenter.heroku.com/articles/dyno-sleeping#sleeping">30 minutes of inaction</a> (as per all free accounts).  This may cause the first ping to the server to return an application failure as it takes a significant amount of time to boot our app.  In the future, this can be fixed by upgrading our heroku account, but since we are still in MVP mode, we&rsquo;ve decided that it&rsquo;s a reasonable tradeoff.</p>

<h3 id="security">Security</h3>

<p>Though we plan to build security features in the future, we curently do not provide any security beyond what comes with rails.  Thus, User Authentication, API Access Verification, API Usage Limitation, and other security features are not included in this iteration of the product.</p>

<h3 id="user-placeholders">User Placeholders</h3>

<p>Currently, users do not share a relationship with Incidents.  Furthermore, there is no authentication for passwords, auth tokens, etc, and all user information is public.  We intend to improve these with the aforementioned security features.</p>

<h1 id="incidents">Incidents</h1>

<h2 id="get-all-incidents">Get All Incidents</h2>
<pre class="highlight plaintext"><code>curl http://incidentreport-120.herokuapp.com/incidents.json
</code></pre>

<blockquote>
<p>The http request returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nt">"title"</span><span class="p">:</span><span class="s2">"Example"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"location"</span><span class="p">:</span><span class="s2">"South Hall"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"severity"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nt">"incident_type"</span><span class="p">:</span><span class="s2">"Housing"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"comments"</span><span class="p">:</span><span class="s2">"Example comments"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"user"</span><span class="p">:</span><span class="s2">"Demo User"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"groups"</span><span class="p">:</span><span class="s2">"Students"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"status"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nt">"reported_by"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"assigned_to"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"created_at"</span><span class="p">:</span><span class="s2">"2016-03-11T19:52:46.401Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="s2">"2016-03-11T19:52:46.401Z"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="nt">"title"</span><span class="p">:</span><span class="s2">"Example 2"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"location"</span><span class="p">:</span><span class="s2">"Lane Hall"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"severity"</span><span class="p">:</span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="nt">"incident_type"</span><span class="p">:</span><span class="s2">"Health and Safety"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"comments"</span><span class="p">:</span><span class="s2">"Example comments"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"user"</span><span class="p">:</span><span class="s2">"Demo User"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"groups"</span><span class="p">:</span><span class="s2">"Campus Police"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"status"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nt">"reported_by"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"assigned_to"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"created_at"</span><span class="p">:</span><span class="s2">"2016-03-11T19:52:46.401Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="s2">"2016-03-11T19:52:46.401Z"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>

<p>This endpoint retrieves all incidents.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET http://incidentreport-120.herokuapp.com/incidents.json</code></p>

<h2 id="get-a-specific-incident">Get a Specific Incident</h2>
<pre class="highlight plaintext"><code>curl http://incidentreport-120.herokuapp.com/incidents/{incident_id}.json
</code></pre>

<blockquote>
<p>The http request returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"id"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nt">"title"</span><span class="p">:</span><span class="s2">"Example"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"location"</span><span class="p">:</span><span class="s2">"South Hall"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"severity"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nt">"incident_type"</span><span class="p">:</span><span class="s2">"Housing"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"comments"</span><span class="p">:</span><span class="s2">"Example comments"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"user"</span><span class="p">:</span><span class="s2">"Demo User"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"groups"</span><span class="p">:</span><span class="s2">"Students"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"status"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nt">"reported_by"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nt">"assigned_to"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nt">"created_at"</span><span class="p">:</span><span class="s2">"2016-03-11T19:52:46.401Z"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="s2">"2016-03-11T19:52:46.401Z"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>This endpoint retrieves a specific incident.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET http://incidentreport-120.herokuapp.com/incidents/{incident_id}.json</code></p>

<h3 id="url-parameters">URL Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Value</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>incident_id</td>
<td>int</td>
<td>The ID of the incident to retrieve</td>
</tr>
</tbody></table>

<h2 id="edit-a-specific-incident">Edit a Specific Incident</h2>

<blockquote>
<p>Sending the following curl command:</p>
</blockquote>
<pre class="highlight plaintext"><code>curl -X PUT --data 'incident[title]=A&amp;incident[location]=B&amp;incident[comments]=C&amp;incident[severity]=1&amp;incident[incident_type]=2&amp;incident[groups]=3' http://incidentreport-120.herokuapp.com/incidents/{INCIDENT ID NUMBER}.json
</code></pre>

<blockquote>
<p>returns an object similar to the following JSON</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="nt">"id"</span><span class="p">:</span><span class="err">INCIDENT</span><span class="w"> </span><span class="err">ID</span><span class="w"> </span><span class="err">NUMBER</span><span class="p">,</span><span class="w">
</span><span class="nt">"title"</span><span class="p">:</span><span class="s2">"A"</span><span class="p">,</span><span class="w">
</span><span class="nt">"location"</span><span class="p">:</span><span class="s2">"B"</span><span class="p">,</span><span class="w">
</span><span class="nt">"severity"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
</span><span class="nt">"incident_type"</span><span class="p">:</span><span class="s2">"D"</span><span class="p">,</span><span class="w">
</span><span class="nt">"comments"</span><span class="p">:</span><span class="s2">"C"</span><span class="p">,</span><span class="w">
</span><span class="nt">"user"</span><span class="p">:</span><span class="s2">"Demo User"</span><span class="p">,</span><span class="w">
</span><span class="nt">"groups"</span><span class="p">:</span><span class="s2">"E"</span><span class="p">,</span><span class="w">
</span><span class="nt">"status"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
</span><span class="nt">"reported_by"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
</span><span class="nt">"assigned_to"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
</span><span class="nt">"created_at"</span><span class="p">:</span><span class="s2">"2016-03-17T20:35:00.068Z"</span><span class="p">,</span><span class="w">
</span><span class="nt">"updated_at"</span><span class="p">:</span><span class="s2">"2016-03-17T20:35:00.068Z"</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>This endpoint edits a specified incident.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">PUT http://incidentreport-120.herokuapp.com/incidents/{incident id}.json</code></p>

<h3 id="form-data">Form Data</h3>

<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>incident[title]</td>
<td>string</td>
</tr>
<tr>
<td>incident[location]</td>
<td>string</td>
</tr>
<tr>
<td>incident[comments]</td>
<td>text</td>
</tr>
<tr>
<td>incident[severity]</td>
<td>integer between 1-4</td>
</tr>
<tr>
<td>incident[incident_type]</td>
<td>string</td>
</tr>
<tr>
<td>incident[groups]</td>
<td>string</td>
</tr>
<tr>
<td>_method</td>
<td>&lsquo;patch&rsquo;</td>
</tr>
</tbody></table>

<h2 id="create-a-new-incident">Create a New Incident</h2>

<blockquote>
<p>Sending the following curl command:</p>
</blockquote>
<pre class="highlight plaintext"><code>curl --data 'incident[title]=A&amp;incident[location]=B&amp;incident[comments]=C&amp;incident[severity]=1&amp;incident[incident_type]=2&amp;incident[groups]=3' http://incidentreport-120.herokuapp.com/incidents.json
</code></pre>

<blockquote>
<p>returns an object similar to the following JSON</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="nt">"id"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
</span><span class="nt">"title"</span><span class="p">:</span><span class="s2">"A"</span><span class="p">,</span><span class="w">
</span><span class="nt">"location"</span><span class="p">:</span><span class="s2">"B"</span><span class="p">,</span><span class="w">
</span><span class="nt">"severity"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
</span><span class="nt">"incident_type"</span><span class="p">:</span><span class="s2">"D"</span><span class="p">,</span><span class="w">
</span><span class="nt">"comments"</span><span class="p">:</span><span class="s2">"C"</span><span class="p">,</span><span class="w">
</span><span class="nt">"user"</span><span class="p">:</span><span class="s2">"Demo User"</span><span class="p">,</span><span class="w">
</span><span class="nt">"groups"</span><span class="p">:</span><span class="s2">"E"</span><span class="p">,</span><span class="w">
</span><span class="nt">"status"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
</span><span class="nt">"reported_by"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
</span><span class="nt">"assigned_to"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
</span><span class="nt">"created_at"</span><span class="p">:</span><span class="s2">"2016-03-17T20:35:00.068Z"</span><span class="p">,</span><span class="w">
</span><span class="nt">"updated_at"</span><span class="p">:</span><span class="s2">"2016-03-17T20:35:00.068Z"</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>This endpoint creates a new incident.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST http://incidentreport-120.herokuapp.com/incidents.json</code></p>

<h3 id="form-data">Form Data</h3>

<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>incident[title]</td>
<td>string</td>
</tr>
<tr>
<td>incident[location]</td>
<td>string</td>
</tr>
<tr>
<td>incident[comments]</td>
<td>text</td>
</tr>
<tr>
<td>incident[severity]</td>
<td>integer between 1-4</td>
</tr>
<tr>
<td>incident[incident_type]</td>
<td>string</td>
</tr>
<tr>
<td>incident[groups]</td>
<td>string</td>
</tr>
</tbody></table>

<h1 id="users">Users</h1>

<h2 id="create-a-new-user">Create a New User</h2>
<pre class="highlight plaintext"><code>curl --data 'user[first_name]=Max&amp;user[last_name]=Maxerson&amp;user[password]=NotMyPassword&amp;user[email]=email@email.com&amp;user[phone]=(555)5555555&amp;user[group]=Chemistry' http://incidentreport-120.herokuapp.com/users.json
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
  </span><span class="nt">"first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Max"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Maxerson"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"password"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NotMyPassword"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"email@email.com"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"phone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"(555)555-5555"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"group"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Chemistry Department"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-03-18T00:14:05.120Z"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-03-18T00:14:05.120Z"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>This endpoint creates a new User.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST http://incidentreport-120.herokuapp.com/users.json</code></p>

<h3 id="url-parameters">URL Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>user[first_name]*</td>
<td>string (limit: 60)</td>
</tr>
<tr>
<td>user[last_name]*</td>
<td>string (limit: 60)</td>
</tr>
<tr>
<td>user[password]*</td>
<td>string (limit: 255)</td>
</tr>
<tr>
<td>user[email]*</td>
<td>string (limit: 255)</td>
</tr>
<tr>
<td>user[phone]*</td>
<td>string (limit: 15)</td>
</tr>
<tr>
<td>user[group]*</td>
<td>string (limit: 100)</td>
</tr>
</tbody></table>

<p>*Required (cannot be null)</p>

          <h1 id="errors">Errors</h1>

<p>The InstaPort API uses the following error codes:</p>

<table><thead>
<tr>
<th>Error Code</th>
<th>Meaning</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>Bad Request &ndash; Your request not valid (eg: incorrect formatting)</td>
</tr>
<tr>
<td>401</td>
<td>Unauthorized &ndash; Your API key is wrong</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden &ndash; The incident requested is hidden for administrators only</td>
</tr>
<tr>
<td>404</td>
<td>Not Found &ndash; The specified incident could not be found</td>
</tr>
<tr>
<td>405</td>
<td>Method Not Allowed &ndash; You tried to access an incident with an invalid method</td>
</tr>
<tr>
<td>406</td>
<td>Not Acceptable &ndash; You requested a format that isn&rsquo;t json</td>
</tr>
<tr>
<td>410</td>
<td>Gone &ndash; The incident requested has been removed from our servers</td>
</tr>
<tr>
<td>429</td>
<td>Too Many Requests &ndash; You&rsquo;re requesting too many incidents! Slow down!</td>
</tr>
<tr>
<td>500</td>
<td>Internal Server Error &ndash; We had a problem with our server. Try again later.</td>
</tr>
<tr>
<td>503</td>
<td>Service Unavailable &ndash; We&rsquo;re temporarially offline for maintanance. Please try again later.</td>
</tr>
</tbody></table>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="ruby">ruby</a>
          </div>
      </div>
    </div>
  </body>
</html>
